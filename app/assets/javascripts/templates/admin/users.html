<h1>User management</h1>

<table class="table">
  <thead>
    <th>
      Name
    </th>

    <th>
      Roles
    </th>

    <th>
      Promote to
    </th>

    <th>
      Sign up date
    </th>

    <th>
      Preferred Working Hour
    </th>
  </thead>

  <tbody>
    <tr ng-repeat="user in adminUsers.all | orderBy: user.id ">
      <td>
        {{ user.name }}
      </td>

      <td>
        {{ user.roles_in_text }}
      </td>

      <td>
        <a ng-if="!user['admin?']" href="#" ng-click="adminUsers.promoteTo($event, user.id, 'admin')" class="btn btn-xs btn-default">ADMIN</a><br>
        <a ng-if="!user['user_manager?']" href="#" ng-click="adminUsers.promoteTo($event, user.id, 'user_manager')" class="btn btn-xs btn-default">USER MGR</a>
      </td>

      <td>
        {{ user.created_at | date : 'MM-dd-yyyy'}}
      </td>

      <td class="col-lg-3">
        <div class="row">
          <div class="col-lg-6">
            <form name="preferredWorkingHourForm" ng-submit="adminUsers.submit(user)" novalidate>
              <div class="input-group">
                <input
                  type="number"
                  name="preferred_working_hour"
                  id="preferred_working_hour" ng-model="user.preferred_working_hour"
                  class="form-control"
                  required>

                <span class="input-group-btn">
                  <input
                    type="submit"
                    name="submit"
                    value="Save"
                    class="btn btn-default" ng-disabled="preferredWorkingHourForm.$invalid">
                </span>
              </div>
            </form>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
